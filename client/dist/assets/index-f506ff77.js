import{r as c,j as e,d as s}from"./index-e054a226.js";import{I as h,B as l,m as r}from"./index-9987b3f9.js";const j=()=>{const[a,g]=c.useState(""),[n,i]=c.useState(!1),m=d=>{g(d.target.value)},o=async()=>{if(!a){r.warning(s.get("pls_input_username").d("Please input username"));return}i(!0);const t=await(await fetch("/user/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a})})).json();t!=null&&t.success?(r.success(s.get("register_success").d("Register Success")),setTimeout(()=>{window.open("/login","_self")},2e3)):(r.error(t==null?void 0:t.data),i(!1))},u=()=>{window.open("/login","_self")};return e.jsxs("div",{className:"register-page",children:[e.jsxs("div",{className:"header",children:[e.jsx("div",{className:"logo"}),e.jsx("div",{className:"title",children:s.get("register").d("Register")})]}),e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"kv",children:[e.jsx("div",{className:"label",children:s.get("username").d("Username")}),e.jsx(h,{type:"text",placeholder:s.get("username").d("Username"),value:a,disabled:n,onChange:m,onPressEnter:()=>o()})]}),e.jsxs("div",{className:"operation",children:[e.jsx(l,{onClick:()=>o(),loading:n,children:s.get("register").d("Register")}),e.jsx(l,{onClick:()=>u(),disabled:n,children:s.get("go_login").d("Go Login")})]})]})]})};export{j as default};
